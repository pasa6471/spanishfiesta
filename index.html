<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SpanishFiesta - Aprende espa√±ol con diversi√≥n</title>

  <!-- PWA Meta -->
  <meta name="theme-color" content="#3b82f6" />
  <meta name="description" content="Aprende espa√±ol de manera divertida, online y offline con SpanishFiesta." />
  <link rel="manifest" href="manifest.json" />
  <link rel="apple-touch-icon" href="icons/icon-192.png" />

  <!-- Styles & Libraries -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"></script>
  <link rel="stylesheet" href="style.css" />

  <style>
    /* Mobile-friendly adjustments */
    body {
      font-family: 'Inter', system-ui, sans-serif;
      overflow-x: hidden;
    }

    .chat-message {
      display: flex;
      align-items: flex-start;
    }

    .chat-message .bot-message {
      background: #eff6ff;
      border-radius: 0.75rem;
      padding: 0.75rem;
      margin-bottom: 0.5rem;
    }

    .quick-action-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0.75rem;
      font-weight: 600;
      border-radius: 0.75rem;
      transition: all 0.2s ease;
      width: 100%;
    }

    @media (max-width: 640px) {
      h2 {
        font-size: 1.25rem;
      }
      .text-2xl {
        font-size: 1.125rem;
      }
    }
  </style>
</head>

<body class="bg-gradient-to-b from-amber-50 to-blue-50 min-h-screen flex flex-col relative">

  <!-- Background Effect -->
  <div id="vanta-bg" class="absolute inset-0 -z-10"></div>

  <!-- Navbar -->
  <custom-navbar></custom-navbar>

  <!-- Main -->
  <main class="flex-1 container mx-auto px-4 py-6 sm:py-10 relative z-10">
    <div class="max-w-4xl mx-auto space-y-8">

      <!-- User Progress -->
      <section class="bg-white rounded-2xl shadow-lg p-6">
        <div class="flex flex-col sm:flex-row justify-between items-center gap-4">
          <h2 class="text-2xl font-bold text-amber-600 text-center sm:text-left">¬°Hola Amigo!</h2>
          <div class="flex items-center space-x-2">
            <span class="text-sm font-medium text-gray-600">Nivel:</span>
            <span class="px-3 py-1 bg-amber-100 text-amber-800 rounded-full text-sm font-semibold">Principiante</span>
          </div>
        </div>

        <div class="mt-4">
          <div class="w-full bg-gray-200 rounded-full h-4">
            <div class="bg-amber-500 h-4 rounded-full" style="width: 25%"></div>
          </div>
          <p class="text-right mt-1 text-sm text-gray-600">25% completado</p>
        </div>

        <div class="grid grid-cols-3 gap-2 mt-4 text-center">
          <div>
            <div class="text-xl font-bold text-blue-600">7</div>
            <div class="text-xs text-gray-500">D√≠as seguidos</div>
          </div>
          <div>
            <div class="text-xl font-bold text-green-600">42</div>
            <div class="text-xs text-gray-500">Palabras aprendidas</div>
          </div>
          <div>
            <div class="text-xl font-bold text-purple-600">85%</div>
            <div class="text-xs text-gray-500">Precisi√≥n</div>
          </div>
        </div>
      </section>

      <!-- Chat Interface -->
      <section class="bg-white rounded-2xl shadow-lg overflow-hidden">
        <header class="p-4 border-b border-gray-200 bg-blue-600 flex items-center">
          <div class="w-10 h-10 rounded-full bg-white flex items-center justify-center">
            <i data-feather="message-square" class="text-blue-600"></i>
          </div>
          <div class="ml-3">
            <h3 class="text-lg font-semibold text-white">Profesor Bot</h3>
            <p class="text-xs text-blue-100">En l√≠nea - Listo para ense√±ar</p>
          </div>
        </header>

        <div id="chat-container" class="h-96 overflow-y-auto p-4 space-y-4">
          <div class="chat-message bot-message">
            <div class="flex items-start">
              <div class="flex-shrink-0 bg-blue-100 rounded-full p-2">
                <i data-feather="smile" class="text-blue-600 w-4 h-4"></i>
              </div>
              <div class="ml-3">
                <div class="text-sm font-medium text-gray-900">Profesor Bot</div>
                <div class="mt-1 text-sm text-gray-700">
                  ¬°Hola! ¬øC√≥mo est√°s hoy? Hoy vamos a practicar saludos y presentaciones b√°sicas.<br>
                  <span class="text-xs text-gray-500 italic">(Hello! How are you today? Today we'll practice basic greetings and introductions.)</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <footer class="p-4 border-t border-gray-200 bg-gray-50">
          <div class="flex space-x-2">
            <input
              type="text"
              id="user-input"
              placeholder="Escribe tu respuesta en espa√±ol..."
              class="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
            />
            <button id="send-btn" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500">
              <i data-feather="send"></i>
            </button>
            <button id="voice-btn" class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 focus:ring-2 focus:ring-green-500">
              <i data-feather="mic"></i>
            </button>
          </div>
          <p class="mt-2 text-xs text-gray-500 text-center">Presiona el bot√≥n de micr√≥fono para hablar</p>
        </footer>
      </section>

      <!-- Quick Actions -->
      <section class="grid grid-cols-2 sm:grid-cols-4 gap-3">
        <button class="quick-action-btn bg-amber-100 text-amber-800 hover:bg-amber-200">
          <i data-feather="help-circle" class="mr-2"></i> Traducir
        </button>
        <button class="quick-action-btn bg-blue-100 text-blue-800 hover:bg-blue-200">
          <i data-feather="repeat" class="mr-2"></i> Repetir
        </button>
        <button class="quick-action-btn bg-green-100 text-green-800 hover:bg-green-200">
          <i data-feather="book" class="mr-2"></i> Vocabulario
        </button>
        <button class="quick-action-btn bg-purple-100 text-purple-800 hover:bg-purple-200">
          <i data-feather="award" class="mr-2"></i> Desaf√≠o
        </button>
      </section>
    </div>
  </main>

  <!-- Footer -->
  <custom-footer></custom-footer>

  <!-- Scripts -->
  <script src="components/navbar.js"></script>
  <script src="components/footer.js"></script>
  <script src="script.js"></script>
  <script>
    // Feather Icons + Vanta Init
    feather.replace();
    VANTA.NET({
      el: "#vanta-bg",
      mouseControls: true,
      touchControls: true,
      color: 0x3b82f6,
      backgroundColor: 0xfef3c7,
      points: 10.0,
      spacing: 15.0
    });

    // üîπ Service Worker registrieren
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker
          .register("/sw.js")
          .then((reg) => console.log("‚úÖ Service Worker registriert:", reg.scope))
          .catch((err) => console.error("‚ùå Service Worker Fehler:", err));
      });
    }
  </script>
</body>
</html>
